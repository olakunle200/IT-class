<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <h1>Student</h1>
    <% for (let student of studId) { %>
        <p>you clicked on <%= student.name %> right?</p>
        <h2>Name: <%= student.name %></h2>
        <h3><%= student.mat_no %></h3>

        <form action="/student/view_student/<%= student._id %>" method="POST">

            <label for="course">Courses:</label>
                <select name="course" id="course" required>
                    <option>Select course</option>
                    <% courses.map(course => { %>
                    <option value="<%= course._id %>"><%= course.course_code %></option>
                    <% }) %>
                </select>
                <label for="score">Score: </label>
            <input type="number" name="score" id="score">

            <button type="submit">Update assessment</button>

        </form>
        <table class="table table table-striped">
            <thead>
              <tr>
                <th scope="col">#</th>


                <th scope="col">Course Code</th>
                <th scope="col">Course Title</th>
                <th scope="col">Scores</th>
                <th scope="col">Credit Load</th>
                <th scope="col">Grade</th>
                
              </tr>
            </thead>
    
            <% let num = 0 %>

            <%= assessment.score %>

    
            <% for (let assess of assessment) { %>
              <% for (let grade of gradeArray) { %>
                <% if (grade > assessment.length) { %>
            <tbody>
              <tr>
                <th scope="row"><%= num = num + 1 %></th>
                <td><%= assess.courseId.course_code %></td>
                <td><%= assess.courseId.course_title %></td>
                <td><%= assess.score %></td>
                <td><%= assess.courseId.credit_load %></td>
                <td><%= grade %></td>
              </tr>
            </tbody>
              <% } %>
              <% } %>
            <% } %>
          </table>
     <% } %>


     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>